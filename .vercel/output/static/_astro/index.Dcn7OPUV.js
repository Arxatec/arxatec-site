import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";import{a as _}from"./index.C6lpJo1F.js";function $(){const[t,h]=i.useState({first_name:"",last_name:"",email:"",phone:"",country:"",subject:"",message:""}),[s,p]=i.useState({}),[d,b]=i.useState(!1),[g,u]=i.useState(null),[v,o]=i.useState(""),[c,x]=i.useState({isThankYouModalOpen:!1,isThankYouModalClosing:!1}),j=(l,a)=>{switch(l){case"first_name":case"last_name":return a.trim()?"":"Este campo es obligatorio";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?"":"Correo electrónico inválido";case"phone":return/^[+\d\s()-]{7,}$/.test(a)?"":"Número de teléfono inválido";case"country":case"subject":return a.trim()?"":"Este campo es obligatorio";case"message":return a.trim().length>=10?"":"El mensaje debe tener al menos 10 caracteres";default:return""}},r=l=>{const{name:a,value:n}=l.target;h({...t,[a]:n});const f=j(a,n);p(m=>({...m,[a]:f}))},N=()=>{const l={};let a=!0;return Object.entries(t).forEach(([n,f])=>{const m=j(n,f);m&&(l[n]=m,a=!1)}),p(l),a},k=async l=>{if(l.preventDefault(),!!N()){b(!0),u(null),o(""),console.log(JSON.stringify({first_name:t.first_name,last_name:t.last_name,email:t.email,phone:t.phone,country:t.country,subject:t.subject,message:t.message}));try{const a=await fetch("https://arxatec-service-production.up.railway.app/api/v1/form/support",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:t.first_name,last_name:t.last_name,email:t.email,phone:t.phone,country:t.country,subject:t.subject,message:t.message})});if(a.ok)u("success"),h({first_name:"",last_name:"",email:"",phone:"",country:"",subject:"",message:""}),x({...c,isThankYouModalOpen:!0});else{const n=a.status;switch(u("error"),n){case 400:o("Hay un problema con los datos enviados. Por favor, revisa la información e inténtalo de nuevo.");break;case 401:o("No tienes autorización para enviar este formulario.");break;case 403:o("No tienes permiso para realizar esta acción.");break;case 404:o("No se encontró el servicio de contacto. Por favor, inténtalo más tarde.");break;case 422:o("No se pudo procesar la información. Por favor, verifica que todos los campos sean correctos.");break;case 429:o("Has enviado demasiadas solicitudes. Por favor, espera unos minutos antes de intentarlo de nuevo.");break;case 500:case 502:case 503:case 504:o("Hay un problema con nuestros servidores. Por favor, inténtalo más tarde.");break;default:o("Ha ocurrido un error al enviar el mensaje. Por favor, inténtalo de nuevo.")}}}catch{u("error"),o("No se pudo conectar con el servidor. Comprueba tu conexión e inténtalo de nuevo.")}finally{b(!1)}}},y=()=>{x({...c,isThankYouModalClosing:!0}),setTimeout(()=>{x({isThankYouModalOpen:!1,isThankYouModalClosing:!1})},300)},w=({onClick:l,className:a,size:n=6})=>e.jsxs("button",{type:"button",className:`absolute text-gray-400 hover:text-gray-500 focus:outline-none ${a}`,onClick:l,children:[e.jsx("span",{className:"sr-only",children:"Cerrar"}),e.jsx("svg",{className:`h-${n} w-${n}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]});return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:k,className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm/6 font-medium text-gray-900",children:"Nombre"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"text",name:"first_name",id:"first_name",value:t.first_name,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.first_name?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 text-sm`,placeholder:"Ingrese su nombre"}),s.first_name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.first_name})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm/6 font-medium text-gray-900",children:"Apellido"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"text",name:"last_name",id:"last_name",value:t.last_name,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.last_name?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm`,placeholder:"Ingrese su apellido"}),s.last_name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.last_name})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Correo electrónico"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"email",name:"email",id:"email",value:t.email,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.email?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 text-sm`,placeholder:"Ingrese su correo electrónico"}),s.email&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.email})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm/6 font-medium text-gray-900",children:"Teléfono"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"text",name:"phone",id:"phone",value:t.phone,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.phone?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 text-sm`,placeholder:"Ingrese su número de teléfono"}),s.phone&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.phone})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"country",className:"block text-sm/6 font-medium text-gray-900",children:"País"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"text",name:"country",id:"country",value:t.country,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.country?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 text-sm`,placeholder:"Ingrese su país"}),s.country&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.country})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm/6 font-medium text-gray-900",children:"Asunto"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"text",name:"subject",id:"subject",value:t.subject,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.subject?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 text-sm`,placeholder:"Ingrese el asunto del mensaje"}),s.subject&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.subject})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"message",className:"block text-sm/6 font-medium text-gray-900",children:"Mensaje"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("textarea",{rows:"4",name:"message",id:"message",value:t.message,onChange:r,className:`block w-full rounded-md bg-white px-3 py-1.5 text-gray-900 outline outline-1 -outline-offset-1 ${s.message?"outline-red-500":"outline-gray-300"} placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 text-sm`,placeholder:"Escriba su mensaje aquí"}),s.message&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.message})]})]}),e.jsx("p",{className:"text-sm mt-4 text-gray-700",children:"Al enviar este formulario, acepta nuestra política de privacidad y términos de servicio."}),g==="success"&&e.jsx("p",{className:"mt-4 text-sm text-green-600 font-medium",children:"Su mensaje ha sido enviado correctamente. Nos pondremos en contacto pronto."}),g==="error"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-600 font-medium",children:v})}),e.jsx("button",{type:"submit",disabled:d,className:`rounded-md ${d?"bg-blue-400":"bg-blue-600 hover:bg-blue-500"} px-4 py-2 text-sm font-semibold text-white shadow-xs focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 w-full mt-12`,children:d?"Enviando...":"Enviar mensaje"})]}),c.isThankYouModalOpen&&e.jsxs("div",{className:`w-screen top-0 left-0 h-screen bg-white fixed z-[110] flex flex-col items-center justify-center p-8 transition-all duration-300 ease-in-out ${c.isThankYouModalClosing?"animate-fadeOut":"animate-fadeIn"}`,"aria-modal":"true",role:"dialog","aria-labelledby":"thank-you-modal-title",children:[e.jsx(w,{onClick:y,className:"top-4 right-8",size:5}),e.jsxs("div",{className:`max-w-2xl text-center transition-all duration-300 ease-in-out ${c.isThankYouModalClosing?"animate-scaleOut":"animate-scaleIn"}`,children:[e.jsx("img",{src:_.icon_logo,alt:"Gracias por contactarnos",className:"w-40 h-40 mx-auto mb-6 object-cover rounded-full",loading:"lazy"}),e.jsx("h1",{id:"thank-you-modal-title",className:"text-3xl font-bold text-gray-900 mb-4",children:"¡Gracias por contactarnos!"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Hemos recibido tu mensaje y nos pondremos en contacto contigo lo antes posible."}),e.jsx("button",{onClick:y,className:"inline-block transition-all rounded-md bg-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:"Volver a la página"})]})]})]})}export{$ as default};
